<!DOCTYPE html>
<!--[if lt IE 7]>
<html lang="en" ng-app="texadaApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html lang="en" ng-app="texadaApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html lang="en" ng-app="texadaApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en" ng-app="texadaApp" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Texada</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="bower_components/chosen/chosen.min.css">
    <link rel="stylesheet" href="app.css">

</head>
<body ng-controller="TexadaHomeCtrl">
<!--[if lt IE 7]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> to improve your experience.</p>
<![endif]-->


<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Texada</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home</a></li>
                <!-- <li><a href="#/view1">Other View</a></li> -->
            </ul>
        </div>
        <!--/.nav-collapse -->
    </div>
</nav>

<div class="container">
    <div class="body"> <!-- add "ng-view" -->
        <div class="starter-template">
            <h1>Texada!</h1>

            <p class="lead">
                Texada is a research tool designed for extracting patterns from text data.
            </p>

            <p>Specifically, Texada mines temporal relations from totally-ordered sequences of events. To use Texada you
                need to provide it with at least the following two inputs:
            <ol>
                <li>
                    A user-defined linear temporal logic (LTL) formula whose atomic propositions are variables. We call
                    this a property type.
                </li>

                <li>
                    A text file containing multiple traces, each of which is composed of a totally ordered sequence of
                    events. We call this a log.
                </li>
            </ol>
            Texada's output is a set of LTL formulae that are instantiations of the input property type. That is, in an
            instantiation, the variable atomic propositions are replaced with events from the log. Each formula in the
            output satisfies all of the input traces in the input log. That is, each formula evaluates to true over each
            of the traces.


            </p>
        </div>

        <!-- Start Tabs -->
        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#input">Input</a></li>
            <li><a data-toggle="tab" href="#output" id="outputBtn">Output</a></li>
            <!-- <li class="dropdown">
              <a data-toggle="dropdown" class="dropdown-toggle" href="#">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a data-toggle="tab" href="#dropdown1">Dropdown1</a></li>
                <li><a data-toggle="tab" href="#dropdown2">Dropdown2</a></li>
              </ul>
            </li> -->
        </ul>

        <div class="tab-content">
            <div id="input" class="tab-pane fade in active">
                <textarea id="inputText" class="form-control input-lg" ng-model="text" placeholder="Log"></textarea>
                <br/>
                <input id="argumentsText" type="text" class="form-control input-lg" placeholder="Arguments"
                       ng-model="ltl"/>
                <br/>
                <button class="btn btn-default" type="submit" ng-click="mine()">Mine</button>
                &nbsp;&nbsp;
                <button class="btn btn-default" data-toggle="modal" data-target="#commonPropsModal">Add Common
                    Property
                </button>
                <br/><br/>
            </div>
            <div id="output" class="tab-pane fade">
                <h3>Results Fetched</h3>

                <div class="row">
                    <div class="col-md-6">
                        <h5>Bindings</h5>
                        <ol class="outputList">
                            <li ng-repeat="binding in bindings">
                                [<span ng-repeat="b in binding">{{(b.count < 1)? "" : ", "}}{{b.prop}}: {{b.var}}</span>]
                            </li>
                        </ol>
                    </div>
                    <div class="col-md-6">
                        <h5>Property Instances</h5>
                        <ol class="outputList">
                            <li ng-repeat="prop in properties">{{prop.value}}</li>
                        </ol>
                    </div>
                </div>

            </div>
        </div>
        <!-- End Tabs -->

    </div>
</div>


<div id="errorModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header error-modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Error</h4>
            </div>
            <div class="modal-body">
                <p>Sorry, an error occurred. Please confirm that your log and your LTL inputs are appropriate. Also,
                    please note that Texada can currently only mine one property at a time.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>


<div id="commonPropsModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header error-modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Common Property Types</h4>
            </div>
            <div class="modal-body">
                <p>Choose a common property type and click the button below:</p>
                <select id="chooseCommon">
                    <option value="-f 'G(x -> X y)'">immediately-followed-by</option>
                    <option value="-f '(!y W x) & G((x -> X(!x U y))&(y -> X(!y W x)))'">perracotta/alternating</option>
                    <option value="-f '(!y W x) & G(x -> XFy)'">perracotta/causefirst</option>
                    <option value="-f 'G((x -> X(!x U y)) & (y -> X(!y W x)))'">perracotta/effectfirst</option>
                    <option value="-f '(!y W x) & G((x -> XFy) & (y -> X(!y W x)))'">perracotta/multicause</option>
                    <option value="-f '(!y W x) & G(x -> X(!x U y))'">perracotta/multieffect</option>
                    <option value="-f 'G(x -> X(!x U y))'">perracotta/onecause</option>
                    <option value="-f 'G((x -> XFy) & (y -> X(!y W x)))'">perracotta/oneeffect</option>
                    <option value="-f 'G(x->XFy)'">perracotta/response</option>
                    <option value="-f 'G(x -> XF y)'">synoptic/always-followed-by</option>
                    <option value="-f 'Fy -> (!y U x)'">synoptic/always-precedes</option>
                    <option value="-f 'G(x -> G !y)'">synoptic/never-followed-by</option>
                    <option value="-f 'G(q -> G(!p))'">spec-patterns/absence/after_q</option>
                    <option value="-f 'G(q & !r -> (!p W r))'">spec-patterns/absence/after_q_until_r</option>
                    <option value="-f 'Fr -> (!p U r)'">spec-patterns/absence/before_r</option>
                    <option value="-f 'G((q & !r & Fr) -> (!p U r))'">spec-patterns/absence/between_q_and_r</option>
                    <option value="-f 'G(!p)'">spec-patterns/absence/globally</option>
                    <option value="-f 'Fq -> (!q U (q & (!p W (p W (!p W (p W G!p))))))'">
                        spec-patterns/bounded_existence/after_q
                    </option>
                    <option value="-f 'G(q -> ((!p & !r) U (r | ((p & !r) U (r | ((!p & !r) U (r | ((p & !r) U (r | (!p W r) | Gp)))))))))'">
                        spec-patterns/bounded_existence/after_q_until_r
                    </option>
                    <option value="-f 'Fr -> ((!p & !r) U (r | ((p & !r) U (r | ((!p & !r) U (r | ((p & !r) U (r | (!p U r)))))))))'">
                        spec-patterns/bounded_existence/before_r
                    </option>
                    <option value="-f 'G((q & Fr) -> ((!p & !r) U (r | ((p & !r) U (r | ((!p & !r) U (r | ((p & !r) U (r | (!p U r))))))))))'">
                        spec-patterns/bounded_existence/between_q_and_r
                    </option>
                    <option value="-f '(!p W (p W (!p W (p W G!p))))'">spec-patterns/bounded_existence/globally</option>
                    <option value="-f 'G (q -> G (p -> (s & !z & X(!z U t))))'">
                        spec-patterns/constrained_chain/after_q
                    </option>
                    <option value="-f 'G (q -> (p -> (!r U (s & !r & !z & X((!r & !z) U t)))) U (r | G (p -> (s & !z & X(!z U t)))))'">
                        spec-patterns/constrained_chain/after_q_until_r
                    </option>
                    <option value="-f 'Fr -> (p -> (!r U (s & !r & !z & X((!r & !z) U t)))) U r'">
                        spec-patterns/constrained_chain/before_r
                    </option>
                    <option value="-f 'G ((q & Fr) -> (p -> (!r U (s & !r & !z & X((!r & !z) U t)))) U r)'">
                        spec-patterns/constrained_chain/between_q_and_r
                    </option>
                    <option value="-f 'G (p -> F(s & !z & X(!z U t)))'">spec-patterns/constrained_chain/globally
                    </option>
                    <option value="-f 'G(!q) | F(q & Fp))'">spec-patterns/existence/after_q</option>
                    <option value="-f 'G(q & !r -> (!r U (p & !r)))'">spec-patterns/existence/after_q_until_r</option>
                    <option value="-f '!r W (p & !r)'">spec-patterns/existence/before_r</option>
                    <option value="-f 'G(q & !r -> (!r W (p & !r)))'">spec-patterns/existence/between_q_and_r</option>
                    <option value="-f 'F(p)'">spec-patterns/existence/globally</option>
                    <option value="-f 'G!q | F(q & (!p W s))'">spec-patterns/precedence/after_q</option>
                    <option value="-f 'G(q & !r -> (!p W (s | r)))'">spec-patterns/precedence/after_q_until_r</option>
                    <option value="-f 'Fr -> (!p U (s | r))'">spec-patterns/precedence/before_r</option>
                    <option value="-f 'G((q & !r & Fr) -> (!p U (s | r)))'">spec-patterns/precedence/between_q_and_r
                    </option>
                    <option value="-f '!p W s'">spec-patterns/precedence/globally</option>
                    <option value="-f 'G(q -> G(p -> Fs))'">spec-patterns/response/after_q</option>
                    <option value="-f 'G(q & !r -> ((p -> (!r U (s & !r))) W r)'">
                        spec-patterns/response/after_q_until_r
                    </option>
                    <option value="-f 'Fr -> (p -> (!r U (s & !r))) U r'">spec-patterns/response/before_r</option>
                    <option value="-f 'G((q & !r & Fr) -> (p -> (!r U (s & !r))) U r)'">
                        spec-patterns/response/between_q_and_r
                    </option>
                    <option value="-f 'G(p -> Fs)'">spec-patterns/response/globally</option>
                    <option value="-f 'G(q -> G(p))'">spec-patterns/universality/after_q</option>
                    <option value="-f 'G(q & !r -> (p W r))'">spec-patterns/universality/after_q_until_r</option>
                    <option value="-f 'Fr -> (p U r)'">spec-patterns/universality/before_r</option>
                    <option value="-f 'G((q & !r & Fr) -> (p U r))'">spec-patterns/universality/between_q_and_r</option>
                    <option value="-f 'G(p)'">spec-patterns/universality/globally</option>
                </select>
                <br/><br/>
                <button class="btn btn-default" type="submit" ng-click="addCommonProp()">Add Type</button>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>


<!-- In production use:
<script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
-->

<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/angular-route/angular-route.js"></script>
<script src="bower_components/chosen/chosen.jquery.min.js"></script>
<script src="app.js"></script>
<script src="components/version/version.js"></script>
<script src="components/version/version-directive.js"></script>
<script src="components/version/interpolate-filter.js"></script>
</body>
</html>
